# Sass系统报表版需求说明
# 1. 引言
## 1.1 目的
* 本需求说明书旨在详细描述SaaS后台中各个版块的功能要求和使用操作逻辑，为开发、测试和相关人员提供明确的指导。
## 1.2 范围
* 本需求说明书涵盖Sass后台的所有模块的功能要求和操作逻辑.无其他补充版本.
* 本需求说明书仅公司内部该项目相关的产品,技术,测试等人员传阅,具有保密性质,未经许可不得进行第三方传播和使用.
* 技术开发,测试等人员需结合原型和本文档共同使用. 本文档不作为唯一需求参照.
# 2. 系统概述和通用需求及名词解释
## 2.1 系统概述
*  Sass管理系统主要是用来快捷的商户开盘,同时提供 商户管理,商户会员管理,商户游戏管理及相关第三方服务信息. 
*  基于商户的信息,为Sass系统的优迭代提供支撑,同时为后续运营业务发展方向提供支持 
## 2.2 通用需求说明
* 原型地址:https://5owod3.axshare.com/?code=b34d0bc16f16356c67ffc3290577c15e&id=jd7s1b&g=14
* 文档地址:https://github.com/Maike0418/-/blob/main/17363272849684.md
* 系统所有的列表字段及查询条件参见原型,本文档中不一一列举,本文档只对重点字段进行说明,对功能进行逻辑说明;
* 原型中所有的红色边框输入框,或者字段名称前有<a style="color: red;"> * </a> 表示为必填项;
* 原型中所有输入框如果背景为灰色,则表示该输入框不可编辑;
* 所有输入框,统一交互方式为,当输入状态改变时,删除缺省文字, 同时输入框末端 出现删除按钮,点击后,清除输入数据;
* 原型中所有输入框的缺省文字含有该输入框的查询条件名称,不单独做名称展示, 如 缺省文字为: 请输入商户ID, 表示该输入框为商户ID查询条件; 
* 原型中所有日期示例的格式为:年-月-日 时间:分钟:秒, 如 2025-01-05 12:34:25;
* 所有列表支持多条件查询, 如有冲突,则单独说明;
* 所有列表查询条件,统一交互方式为,当输入状态改变时,删除缺省文字, 同时输入框末端 出现删除按钮,点击后,清除输入数据;
* 所有列表查询条件, 执行完上一次查询结果后,如果点击清空按钮,清除掉所有查询条件, 或者逐个点击删除, 当查询条件为空时, 自动执行一次查询,查询所有条件,并展示结果,不需要再次点击搜索按钮;
* 所有删除操作默认为假删除,如果需要真删除,则在具体在单个功能中说明;
* Sass系统同一管理员账号不支持多点登录, 后登录账号会将当前账号挤下线自动跳转到登录页面,并给出提示语:当前账号已在其他设备登录,请确认是否为本人操作;
* 金额数据精度: 如果为法币币种,则四舍五入精确到小数点后两位, 如果为数字货币,则根据数字货币返回的数据精度展示;
* 语言切换: 下拉选择, 根据系统配置的语言包选项,切换后台为对应语言;
* 更换换头像: 初始为默认头像,回填当前头像,上传新头像后,覆盖原来的头像;
* 更改密码: 
    - 密码为至少6位数字或字母,
    - 点击保存,原密码错误,则提示原密码错误,请重新输入
    - 点击保存,如果新密码,确认密码不一致,或者其中一个为空,则提示密码,确认密码不一致,请重输入
    - 点击保存,如果格式不正确,则提示xxx(字段名称)格式不正确,请重新输入
    - 点击保存, 验证通过,关闭弹窗,退出到登录页面.
* 系统区时: 取当前登录账号设备所在区时.
* 关于时间问题说明:
    -  系统内所有数据的时间为当前登录设备所在区时, 但如: 商户服务器所区时为 UTC+8, 会员订单号 001 时间为 UTC+8 2025-10-10 09:00:00,  Sass系统后台登录区时为 UTC+7 ,则将 订单号001,转化为当前设备区时: UTC+8 2025-10-10 08:00:00
* 系统地址需要IP白名单才可访问,非IP加白人员访问,则地址解析错误.(需与技术商定) 
## 2.3 名词定义
* 名词定义适用范围: 仅适用于本sass系统,帮助研发和测试及其他人员理解;
* 商户: Sass平台通过新增或创建后的客户信息. 本文档中也称客户.
* 商户标识: 运维在git上或者服务器中对不同的项目进行区分的标识. 每个商户在git或者服务器中有唯一的标识. 
* 业务精聊: 销售或者业务人员通过聊天或其他工作方式获取的客户来源.
* 熟人介绍: 老客户推荐的新客户.
* 老板直连: 公司领导或者老板介绍的新客户
* 集成游戏商: 可以提供多个原厂游戏接入的公司, 也称作游戏渠道商.
* 开盘费:新建商户时,向商户收取的开盘押金.
* 维护费:每月向商户收取的服务器维护费用. 
* 月盈利抽点: 每月根据商户的游戏盈利情况,向商户抽取的佣金比例.
* 游戏预付费: 商户预存抽点费用, 游戏过程时时计算,根据佣金比例计算并扣减预存费用.
* 混合收费: 商户即采用了月盈利抽点,有采用了游戏预付费抽点.
* API抽点: 商户只做API接入,每月根据商户的游戏盈利情况,向商户抽取的佣金比例.
* 三方服务信息: 除了我方提供的主要服务或者合作服务外,商户自行提供的三方服务商,如支付, 短信等商户自己提供的服务商.
* 会员账号类型-会员: 商户的真实注册会员即真实玩家
* 会员账号类型-员工: 商户的内部员工账号即商户内部工作人员注册的会员账号.
* 会员账号类型-主播: 商户的拖号会员,即商户为了推广运营请的游戏播注册的账号.
* 会员账号类型-代理: 会员升级为商户的下级代理,享有代理佣金的会员.
# 3. 报表版块
## 3.1 平台报表
### 3.1.1 Sass平台报表
![Sass平台报表](https://github.com/Maike0418/SassPictures/blob/main/sassptbb.png)
* 功能说明:用来统计本Sass平台所开设的商户和商户的基本运营信息.
* 统计数据源: 可以从平台商户报表中统计Sass平台所要的数据.
* 主要查询条件说明: 
    - 报表周期: 下拉选择, 选项:日账单(默认选中) ,周账单,月账单,年账单 .
    - 周报表: 每周为7天,以每周一为开始日期.
    - 开始时间-结束时间: 当账单周期为日账单时, 可选择账单的开始日期和结束日期.
* 报表日期: 根据查询字段确定.
        + 如果周期为日, 则以每日为单位, 展示前一天的数据. 如:当前日期为2025-01-10, 则统计,2025-01-09, 2025-01-08, 依次类推.
        + 如果周期为周,则以每周周一的对对应日期为准,统计上一周的数据,及当前周的数据. 如当前日期为2025-01-10 周五, 统计日期按周为: 2025-01-06, 2024-12-30,依次类推.
        + 如果周期为月,则以每月1号为准,统计之前每个月分和当前月的数据. 如当前日期为2025-01-10,统计日期按月为, 2025-01, 2024-12.2024-11. 依次类推.
        + 如果周期为年,则以每年1月1号为准,统计之前每个年份和当前年份的数据. 如当前日期为2025-01-10,统计日期按年为: 2025-01-01, 2024-01-01, 依次类推. 
* 主要字段说明:
    - 新增商户数:在统计时间内,Sass后台新增的商户数量. 
    - 共计商户数: 统计时间内,Sass平台的所有商户数量,含已关盘
    - 币种符号: Sass平台的默认币种
    - 投注额: 统计时间内,所有会员的投注额, 币种单位同币种符号.
    - 中奖额: 统计时间内,所有会员的中奖金额, 币种单位同币种符号.
    - 盈利金额: 投注金额-中奖金额, 
* 列表排序: 按照生成时间倒序排序
* 统计规则示例:Sass平台结算币种为USDT, 以投注额 统计示例 
    - 日期: 2025-01-10 
    -  商户A后台结算币种:USDT 分别投注 720RMB≈10U  和 6100BRL≈10U   共计20U 
    -  商户B后台结算币种:RMB  分别投注 100RMB 和 50U≈52RMB  共计452RMB≈61.92U
    -  则Sass平台 2025-01-10 的  投注额为 20U+61.92U=81.92U
    -  其他依中奖额,盈利金额依次类推.
* 报表生成规则:
    - 日报表:次日凌晨后,系统运行定时任务(具体时间由技术确定),统计前一天00:00:00~23:59:59的数据, 定时任务完成后, 生成前一日的报表数据, 同时计算更新 本周 本月 本年 报表.  如果为数据0 ,则展示 0 .  
    - 周报表:每周一凌晨后,系统运行定时任务(具体时间由技术确定),统计上周周一00:00:00~周日23:59:59的数据, 定时任务完成后,生成上周的报表数据 .为数据为0 ,则展示0,
    - 月报表:每月1号凌晨后,系统运行定时任务(具体时间由技术确定),统计上月1号00:00:00~月最后一天23:59:59的数据, 定时任务完成后,生成上月的报表数据 .为数据为0 ,则展示0. 
    - 年报表:每年1月1日号凌晨后,系统运行定时任务(具体时间由技术确定),统计上年1月1号00:00:00~12月31号23:59:59的数据, 定时任务完成后,生成上年的报表数据 .为数据为0 ,则展示0. 
### 3.1.2 平台商户报表
![平台商户报表](https://github.com/Maike0418/SassPictures/blob/main/ptshbb.png)
* 功能说明:以平台下商户为维度,按商户统计基本数据信息和运营信息.
* 数据源: 从商户后台报表中获取, Sass平台运行计划任务,按照Sass系统的结算币种,重新计算,生成本报表.
* 主要查询条件说明: 
    - 报表周期: 下拉选择, 选项:日账单(默认选中) ,周账单,月账单,年账单 .
    - 周报表:每周为7天,以每周一为开始日期.
    - 开始时间-结束时间: 当账单周期为日账单时, 可选择账单的开始日期和结束日期.
* 报表日期: 根据查询字段确定.
        + 如果宝宝周期为日, 则以每日为单位, 展示前一天的数据. 如:当前日期为2025-01-10, 则统计,2025-01-09, 2025-01-08, 依次类推.
        + 如果账单周期为周,则以每周周一的对对应日期为准,统计上一周的数据,及当前周的数据. 如当前日期为2025-01-10 周五, 统计日期按周为: 2025-01-06, 2024-12-30,依次类推.
        + 如果账单周期为月,则以每月1号为准,统计之前每个月分和当前月的数据. 如当前日期为2025-01-10,统计日期按月为, 2025-01, 2024-12.2024-11. 依次类推.
        + 如果账单周期为年,则以每年1月1号为准,统计之前每个年份和当前年份的数据. 如当前日期为2025-01-10,统计日期按年为: 2025-01-01, 2024-01-01, 依次类推. 
* 主要字段说明:
    - 投注人数:在统计时间内,该商户的下注会员数量. 
    - 投注单量: 统计时间内,该商户的会员投注单数,
    - 币种符号: Sass平台的默认币种
    - 投注额: 统计时间内,所有会员的投注额, 币种单位系统币种.
    - 中奖额: 统计时间内,所有会员的中奖金额, 币种单位.系统币种.
    - 盈利金额: 投注金额-中奖金额, 
* 列表排序: 按照生成时间倒序排序
* 统计规则示例:Sass平台结算币种为USDT, 以投注额 统计示例 
    - 日期: 2025-01-10 
    -  商户A后台结算币种:USDT 分别投注 720RMB≈10U  和 6100BRL≈10U   共计20U 
    -  商户B后台结算币种:RMB  分别投注 100RMB 和 50U≈52RMB  共计452RMB≈61.92U
    -  则Sass平台 2025-01-10 的  商户A投注额为 20U , 商户B的投注A为 61.92U
    -  其他依中奖额,盈利金额依次类推.
* 报表生成规则:
    - 日报表:次日凌晨后,系统运行定时任务(具体时间由技术确定),统计前一天00:00:00~23:59:59的数据, 定时任务完成后, 生成前一日的报表数据, 同时计算更新 本周 本月 本年 报表.  如果为数据0 ,则展示 0 .  
    - 周报表:每周一凌晨后,系统运行定时任务(具体时间由技术确定),统计上周周一00:00:00~周日23:59:59的数据, 定时任务完成后,生成上周的报表数据 .为数据为0 ,则展示0,
    - 月报表:每月1号凌晨后,系统运行定时任务(具体时间由技术确定),统计上月1号00:00:00~月最后一天23:59:59的数据, 定时任务完成后,生成上月的报表数据 .为数据为0 ,则展示0. 
    - 年报表:每年1月1日号凌晨后,系统运行定时任务(具体时间由技术确定),统计上年1月1号00:00:00~12月31号23:59:59的数据, 定时任务完成后,生成上年的报表数据 .为数据为0 ,则展示0. 
## 3.2 费用报表
### 3.2.1 商户抽点报表
![商户抽点报表](https://github.com/Maike0418/SassPictures/blob/main/shcdbb.png)
* 功能说明: 主要用来按日周月年统计和展示每个商户不同游戏类型盈利的抽点费用.
* 主要字段说明: 
    - 账单日期: 账单的月份, 精确到年-月. 
    - 投注币种:  商户端,会员下注该游戏使用的币种. 多个币种则分别统计.
    - 投注金额: 会员的有效下注金额.单位与投注币种相同.
    - 中奖金额: 会员的总中奖金额, 单位与投注币种相同.
    - 盈利金额: 投注金额-中奖金额, 为正则表示商户盈利,单位与投注币种相同. 
    - USDT汇率: Sass系统结算币种和会员盈利币种之间的转化比例
    - 盈利USDT: 盈利金额通过USDT汇率换算后为Sass系统结算币种的金额.
    - 游戏抽点: 根据当前商户使用的费率模版,和盈利USDT,展示抽点比例. 
    - 抽点费用: 盈利USDT金额 *  游戏抽点的计算结果, 单位:Sass系统结算单位.
    - 生成时间: 该报表的最后生成时间.
* 列表排序: 以商户为单位,按照报表生成时间,倒序排序. 
* 报表生成日期: 每月1号, 后台运行,定时任务,通过商户抽点报表, 统计商户每个游戏类型,每个投注币种盈利金额,根据商户抽点模版规则,计算出商户账单.
* 商户报表计算示例:  
    - 预设系统结算币种为USDT, 预设商户A, 使用月抽点默认模版, 模版如下表  
        | 游戏集成商 | 游戏类型 | 厂家 | 投注额(USDT) | 费用比例(%) |
        |----------|----------|------|-----------|:------------|
        | AWC    | 电子     | PG   | 0-10000   | 10          |
        | AWC    | 电子     | JDB  | 0-10000   | 20          |
        | AWC   | 彩票     | TG   | 0-10000   | 30          |
    -  月统计中, 该商户AWC集成商
       + 会员分别输 PG  电子 1000USDT ,和 7300人民币 ≈ 1000 USDT
       + 会员分别输 JDB 电子 100USDT, 和 3050BRL ≈ 500 USDT
       + 会员分别输 TG 彩票  500 USDT, 和 34478INR ≈ 400USDT
    - 商户A的抽点计算结果为:
        | 游戏类型 | 游戏厂商 | 投注币种 | 盈利金额 | USDT汇率 | 盈利UDT | USDT抽点(%) | 抽点费用 |
        |----------|:---------|----------|----------|:---------|:--------|:------------|:---------|
        | 电子     | PG       | USDT     | 1000     | 1        | 1000    | 10          | 100      |
        | 电子     | PG       | 人民币   | 7300     | 7.3      | 1000    | 10          | 100      |
        | 电子     | JDB      | USDT     | 100      | 1        | 100     | 20          | 20       |
        | 电子     | JDB      | BRL      | 3050     | 6.1      | 500     | 20          | 100      |
        | 彩票     | TG       | USDT     | 500      | 1        | 500     | 30          | 150      |
        | 彩票     | TG       | INR      | 34478    | 86.2     | 400     | 30          | 120      |
    - 商户A的月总抽点为: 100+100+20+100+150+120=590 USDT 
### 3.2.2 商户预付报表
![商户预付报表](https://github.com/Maike0418/SassPictures/blob/main/shyfbb.png)
* 功能说明: 主要用按时段统计和展示每个商户不同游戏类型盈利的抽点费用. 预付需要时时监控商户预付金额是否充足,因此报表频率比较高, 
* 主要字段说明: 
    - 投注币种:  商户端,会员下注该游戏使用的币种. 多个币种则分别统计.
    - 投注金额: 会员的有效下注金额.单位与投注币种相同.
    - 中奖金额: 会员的总中奖金额, 单位与投注币种相同.
    - 盈利金额: 投注金额-中奖金额, 为正则表示商户盈利,单位与投注币种相同. 
    - USDT汇率: Sass系统结算币种和会员盈利币种之间的转化比例
    - 盈利USDT: 盈利金额通过USDT汇率换算后为Sass系统结算币种的金额.
    - 游戏抽点: 根据当前商户使用的费率模版,和盈利USDT,展示抽点比例. 
    - 扣减费用: 报表生成时段内,盈利USDT金额 *  游戏抽点的计算结果, 单位:Sass系统结算单位.
    - 生成时间: 该报表的最后生成时间.
* 列表排序: 以商户为单位,按照报表生成时间,倒序排序. 
* 商户报表计算示例:  
    - 预设系统结算币种为USDT, 预设商户A, 预存4000U, 账单每10分钟生成一次 , 使用月抽点默认模版, 模版如下表  
        | 游戏集成商 | 游戏类型 | 厂家 | 投注额(USDT) | 费用比例(%) |
        |----------|----------|------|-----------|:------------|
        | BBGT    | 电子     | PG   | 0-10000   | 10          |
        | BBGT    | 电子     | JDB  | 0-10000   | 20          |
        | BBGT  | 彩票     | TG   | 0-10000   | 30          |
    -  统计时段10分钟内, 该商户使用 BBGT集成商
       + 会员分别输 BBGT-PG  电子 1000USDT ,和 7300人民币 ≈ 1000 USDT
       + 会员分别输 BBGT-JDB 电子 100USDT, 和 3050BRL ≈ 500 USDT
       + 会员分别输 BBGT- TF 彩票  500 USDT, 和 34478INR ≈ 400USDT
    - 商户A的抽点计算结果为:
        | 游戏类型 | 游戏厂商 | 投注币种 | 盈利金额 | USDT汇率 | 盈利UDT | USDT抽点(%) | 抽点费用 |
        |----------|:---------|----------|----------|:---------|:--------|:------------|:---------|
        | 电子     | BBGT-PG       | USDT     | 1000     | 1        | 1000    | 10          | 100      |
        | 电子     | BBGT-PG       | 人民币   | 7300     | 7.3      | 1000    | 10          | 100      |
        | 电子     | BBGT-JDB      | USDT     | 100      | 1        | 100     | 20          | 20       |
        | 电子     | BBGT-JDB      | BRL      | 3050     | 6.1      | 500     | 20          | 100      |
        | 彩票     | BBGT-TF       | USDT     | 500      | 1        | 500     | 30          | 150      |
        | 彩票     | BBGT-TF       | INR      | 34478    | 86.2     | 400     | 30          | 120      |
    - 商户A的该时段内抽点为: 100+100+20+100+150+120=590 USDT 
### 3.2.3 集成商抽点报表
![集成商抽点报表](https://github.com/Maike0418/SassPictures/blob/main/jcscdbb.png)
* 功能说明: 主要用来按日周年月统计上游集成商向我方抽取的月游戏佣金报表
* 主要字段说明: 
    - 账单日期: 账单的月份, 精确到年-月. 
    - 投注币种:  商户端,会员下注该游戏使用的币种. 多个币种则分别统计.
    - 投注金额: 会员的有效下注金额.单位与投注币种相同.
    - 中奖金额: 会员的总中奖金额, 单位与投注币种相同.
    - 盈利金额: 投注金额-中奖金额, 为正则表示商户盈利,单位与投注币种相同. 
    - USDT汇率: Sass系统结算币种和会员盈利币种之间的转化比例
    - 盈利USDT: 盈利金额通过USDT汇率换算后为Sass系统结算币种的金额.
    - 游戏抽点: 根据当前商户使用的费率模版,和盈利USDT,展示抽点比例. 
    - 抽点费用: 盈利USDT金额 *  游戏抽点的计算结果, 单位:Sass系统结算单位.
    - 生成时间: 该报表的最后生成时间.
* 列表排序: 以集成商和币种为最小单位,按照报表生成时间,倒序排序. 
* 报表生成规则: 每月1号凌晨后, 后台运行定时任务(具体时间由技术确定),统计上月所有商户每个游戏类型,每个投注币种盈利金额,根据游戏集成商月费率管理模版规则,计算出Sass平台需要给每个集成商付的账单数据.
* 游戏集成商报表计算示例:  
    - 预设系统结算币种为USDT, 预设集成商AWC, 使用月抽点默认模版, 模版如下表  
        | 游戏集成商 | 游戏类型 | 厂家 | 投注额(USDT) | 费用比例(%) |
        |----------|----------|------|-----------|:------------|
        | AWC    | 电子     | PG   | 0-10000   | 5          |
        | AWC    | 电子     | JDB  | 0-10000   | 10          |
        | AWC   | 彩票     | TG   | 0-10000   | 20          |
    -  月统计中, Sass系统使用AWC集成商
       + 会员分别输 PG  电子 1000USDT ,和 7300人民币 ≈ 1000 USDT , 费用比例在5%
       + 会员分别输 JDB 电子 100USDT, 和 3050BRL ≈ 500 USDT, 费用比例在 10%
       + 会员分别输 TG 彩票  500 USDT, 和 34478INR ≈ 400USDT ,费用比例在 20% 
    - 商户A的抽点计算结果为:
        | 游戏类型 | 游戏厂商 | 投注币种 | 盈利金额 | USDT汇率 | 盈利UDT | USDT抽点(%) | 抽点费用 |
        |----------|:---------|----------|----------|:---------|:--------|:------------|:---------|
        | 电子     | PG       | USDT     | 1000     | 1        | 1000    | 5          | 50      |
        | 电子     | PG       | 人民币   | 7300     | 7.3      | 1000    | 5          | 50      |
        | 电子     | JDB      | USDT     | 100      | 1        | 100     | 10          | 10      |
        | 电子     | JDB      | BRL      | 3050     | 6.1      | 500     | 10         | 50      |
        | 彩票     | TG       | USDT     | 500      | 1        | 500     | 20          | 100     |
        | 彩票     | TG       | INR      | 34478    | 86.2     | 400     | 20          | 80      |
    - AWC商向Sass系统的月总抽点为: 50+50+10+50+100+80= 590 USDT
### 3.2.4 集成商预付报表
![集成商预付报表](https://github.com/Maike0418/SassPictures/blob/main/jcsyfbb.png)
* 功能说明: 主要用来按时段统计和展示集成商按照不同游戏类型盈利的抽点费用计算并扣减商户预付金额. 预付需要时时监控商户预付金额是否充足,因此报表频率比较高, 
* 主要字段说明: 
    - 投注币种:  商户端,会员下注该游戏使用的币种. 多个币种则分别统计.
    - 投注金额: 会员的有效下注金额.单位与投注币种相同.
    - 中奖金额: 会员的总中奖金额, 单位与投注币种相同.
    - 盈利金额: 投注金额-中奖金额, 为正则表示商户盈利,单位与投注币种相同. 
    - USDT汇率: Sass系统结算币种和会员盈利币种之间的转化比例
    - 盈利USDT: 盈利金额通过USDT汇率换算后为Sass系统结算币种的金额.
    - 游戏抽点: 根据当前商户使用的费率模版,和盈利USDT,展示抽点比例. 
    - 扣减费用: 报表生成时段内,盈利USDT金额 *  游戏抽点的计算结果, 单位:Sass系统结算单位.
    - 生成时间: 该报表的最后生成时间.
* 列表排序: 以商户为单位,按照报表生成时间,倒序排序. 
* 集成商扣减金额计算示例:  
    - 预设系统结算币种为USDT, 预设商户A, 预存4000U, 账单每10分钟生成一次 , 使用月抽点默认模版, 模版如下表  
        | 游戏集成商 | 游戏类型 | 厂家 | 投注额(USDT) | 费用比例(%) |
        |----------|----------|------|-----------|:------------|
        | BBGT    | 电子     | PG   | 0-10000   | 10          |
        | BBGT    | 电子     | JDB  | 0-10000   | 20          |
        | BBGT  | 彩票     | TG   | 0-10000   | 30          |
    -  统计时段10分钟内, 该商户使用 BBGT集成商
       + 会员分别输 BBGT-PG  电子 1000USDT ,和 7300人民币 ≈ 1000 USDT
       + 会员分别输 BBGT-JDB 电子 100USDT, 和 3050BRL ≈ 500 USDT
       + 会员分别输 BBGT- TF 彩票  500 USDT, 和 34478INR ≈ 400USDT
    - 商户A的抽点计算结果为:
        | 游戏类型 | 游戏厂商 | 投注币种 | 盈利金额 | USDT汇率 | 盈利UDT | USDT抽点(%) | 抽点费用 |
        |----------|:---------|----------|----------|:---------|:--------|:------------|:---------|
        | 电子     | BBGT-PG       | USDT     | 1000     | 1        | 1000    | 10          | 100      |
        | 电子     | BBGT-PG       | 人民币   | 7300     | 7.3      | 1000    | 10          | 100      |
        | 电子     | BBGT-JDB      | USDT     | 100      | 1        | 100     | 20          | 20       |
        | 电子     | BBGT-JDB      | BRL      | 3050     | 6.1      | 500     | 20          | 100      |
        | 彩票     | BBGT-TF       | USDT     | 500      | 1        | 500     | 30          | 150      |
        | 彩票     | BBGT-TF       | INR      | 34478    | 86.2     | 400     | 30          | 120      |
    - 集成商向商户A的该时段内抽点额(扣减金额)为: 100+100+20+100+150+120=590 USDT 
## 3.3 游戏报表
### 3.3.1 游戏类型报表
![游戏类型报表](https://github.com/Maike0418/SassPictures/blob/main/yxlxbb.png)
* 功能说明: 以游戏类型为维度,按日周月年统计所有商户下的会员在不同游戏类型的下的投注等数据情况
* 统计数据源: 根据商户后台的游戏类型报表,按照不同游戏类型和商户后台结算币种, 在Sass系统运行计划任务, 根据需求计算生成Sass系统本报表.
* 主要字段说明:    
    - 币种符号: Sass平台的默认币种
    - 投注额: 统计时间内,所有会员的投注额, 币种单位同币种符号.
    - 中奖额: 统计时间内,所有会员的中奖金额, 币种单位同币种符号.
    - 盈利金额: 投注金额-中奖金额.
* 列表排序: 按照生成时间倒序排序
* 统计规则示例:Sass平台结算币种为USDT, 以电子类型投注额 统计示例 
    - 日期: 2025-01-10 
    -  商户A后台结算币种:USDT, 电子 投注分别为 720RMB≈10U  和 6100BRL≈10U 共计20U
    -  商户B后台结算币种:RMB,  电子 投注分别为 100RMB 和 50U≈ 352RMB  共计452RMB≈61.92U
    -  则Sass平台 2025-01-10 的 统计电子类型的 投注额为 20U+61.92U=81.92U
    -  其他依中奖额,盈利金额依次类推.
* 报表生成规则:
    - 日报表:次日凌晨后,系统运行定时任务(具体时间由技术确定),统计前一天00:00:00~23:59:59的数据, 定时任务完成后, 生成前一日的报表数据, 同时计算更新 本周 本月 本年 报表.  如果为数据0 ,则展示 0 .  
    - 周报表:每周一凌晨后,系统运行定时任务(具体时间由技术确定),统计上周周一00:00:00~周日23:59:59的数据, 定时任务完成后,生成上周的报表数据 .为数据为0 ,则展示0,
    - 月报表:每月1号凌晨后,系统运行定时任务(具体时间由技术确定),统计上月1号00:00:00~月最后一天23:59:59的数据, 定时任务完成后,生成上月的报表数据 .为数据为0 ,则展示0. 
    - 年报表:每年1月1日号凌晨后,系统运行定时任务(具体时间由技术确定),统计上年1月1号00:00:00~12月31号23:59:59的数据, 定时任务完成后,生成上年的报表数据 .为数据为0 ,则展示0. 
### 3.3.2 游戏投注报表
![游戏投注报表](https://github.com/Maike0418/SassPictures/blob/main/yxtzbb.png)
* 功能说明: 以投注为维度,统计所有商户下的会员在不同游戏类型的下的投注等数据情况
* 统计数据源: 根据商户后台的游戏报表,按照商户后台不同的结算币种, 在Sass系统运行计划任务, 根据规则计算Sass系统本报表.
* 主要字段说明:  
    - 投注人数: 统计时间内的下注会员数.  
    - 币种符号: Sass平台的默认币种
    - 投注额: 统计时间内,所有会员的投注额, 币种单位同币种符号.
    - 中奖额: 统计时间内,所有会员的中奖金额, 币种单位同币种符号.
    - 盈利金额: 投注金额-中奖金额.
* 列表排序: 按照生成时间倒序排序
* 统计规则示例:Sass平台结算币种为USDT, 以电子类型投注额 统计示例 
    - 日期: 2025-01-10 
    -  商户A后台结算币种:USDT, 分别投注 720RMB≈10U  和 6100BRL≈10U 共计20U
    -  商户B后台结算币种:RMB,  分别投注 100RMB 和 50U≈ 352RMB  共计452RMB≈61.92U
    -  则Sass平台 2025-01-10 的  投注额为 20U+61.92U=81.92U
    -  其他依中奖额,盈利金额依次类推.
* 报表生成规则:
    - 日报表:次日凌晨后,系统运行定时任务(具体时间由技术确定),统计前一天00:00:00~23:59:59的数据, 定时任务完成后, 生成前一日的报表数据, 同时计算更新 本周 本月 本年 报表.  如果为数据0 ,则展示 0 .  
    - 周报表:每周一凌晨后,系统运行定时任务(具体时间由技术确定),统计上周周一00:00:00~周日23:59:59的数据, 定时任务完成后,生成上周的报表数据 .为数据为0 ,则展示0,
    - 月报表:每月1号凌晨后,系统运行定时任务(具体时间由技术确定),统计上月1号00:00:00~月最后一天23:59:59的数据, 定时任务完成后,生成上月的报表数据 .为数据为0 ,则展示0. 
    - 年报表:每年1月1日号凌晨后,系统运行定时任务(具体时间由技术确定),统计上年1月1号00:00:00~12月31号23:59:59的数据, 定时任务完成后,生成上年的报表数据 .为数据为0 ,则展示0. 
### 3.3.3 游戏厂商报表
![游戏厂商报表](https://github.com/Maike0418/SassPictures/blob/main/yxcsbb.png)
* 功能说明: 以游戏厂商为维度,统计所有商户下的会员的投注等数据情况
* 统计数据源: 根据商户后台的厂家投注报表,按照商户后台不同的结算币种, 在Sass系统运行计划任务, 根据需求生成Sass系统本报表.
* 主要字段说明:  
    - 投注人数: 统计时间内的下注会员数.  
    - 币种符号: Sass平台的默认币种
    - 投注额: 统计时间内,所有会员的投注额, 币种单位同币种符号.
    - 中奖额: 统计时间内,所有会员的中奖金额, 币种单位同币种符号.
    - 盈利金额: 投注金额-中奖金额.
* 列表排序: 按照生成时间倒序排序
* 统计规则示例:Sass平台结算币种为USDT, 以电子类型投注额 统计示例 
    - 日期: 2025-01-10 
    -  商户A后台结算币种:USDT, PG 分别投注 720RMB≈10U  和 6100BRL≈10U 共计20U
    -  商户B后台结算币种:RMB,  PG 分别投注 100RMB 和 50U≈ 352RMB  共计452RMB≈61.92U
    -  则Sass平台 2025-01-10 的  PG 投注额为 20U+61.92U=81.92U
    -  其他依中奖额,盈利金额依次类推.
* 报表生成规则:
    - 日报表:次日凌晨后,系统运行定时任务(具体时间由技术确定),统计前一天00:00:00~23:59:59的数据, 定时任务完成后, 生成前一日的报表数据, 同时计算更新 本周 本月 本年 报表.  如果为数据0 ,则展示 0 .  
    - 周报表:每周一凌晨后,系统运行定时任务(具体时间由技术确定),统计上周周一00:00:00~周日23:59:59的数据, 定时任务完成后,生成上周的报表数据 .为数据为0 ,则展示0,
    - 月报表:每月1号凌晨后,系统运行定时任务(具体时间由技术确定),统计上月1号00:00:00~月最后一天23:59:59的数据, 定时任务完成后,生成上月的报表数据 .为数据为0 ,则展示0. 
    - 年报表:每年1月1日号凌晨后,系统运行定时任务(具体时间由技术确定),统计上年1月1号00:00:00~12月31号23:59:59的数据, 定时任务完成后,生成上年的报表数据 .为数据为0 ,则展示0. 
### 3.3.4 游戏集成商报表
![游戏集成商报表](https://github.com/Maike0418/SassPictures/blob/main/jcsbb.png)
* 功能说明: 以上游集商为维度,统计所有下游商户使用该集成商提供的游戏会员投的投注等数据情况
* 统计数据源: Sass后台根据厂商报表关联游戏集成商,生成该报表数据.
* 主要字段说明:  
    - 投注人数: 统计时间内的下注会员数.  
    - 币种符号: Sass平台的默认币种
    - 投注额: 统计时间内,所有会员的投注额, 币种单位同币种符号.
    - 中奖额: 统计时间内,所有会员的中奖金额, 币种单位同币种符号.
    - 盈利金额: 投注金额-中奖金额.
* 列表排序: 按照生成时间倒序排序
* 统计规则示例:Sass平台结算币种为USDT, 以电子类型投注额 统计示例 
    - 日期: 2025-01-10 
    -  商户A接入集成商AWC.后台结算币种:USDT, AWC_PG 分别投注 720RMB≈10U  和 6100BRL≈10U 共计20U
    -  商户B接入集成商WG,后台结算币种:RMB,  WG_JDB 分别投注 100RMB 和 50U≈ 352RMB  共计452RMB≈61.92U
    -  则Sass平台 2025-01-10 的 游戏集成商 AWC 投注额为 20U WG 的投注额为61.92U 
    -  其他依中奖额,盈利金额依次类推.
* 报表生成规则:
    - 日报表:次日凌晨后,系统运行定时任务(具体时间由技术确定),统计前一天00:00:00~23:59:59的数据, 定时任务完成后, 生成前一日的报表数据, 同时计算更新 本周 本月 本年 报表.  如果为数据0 ,则展示 0 .  
    - 周报表:每周一凌晨后,系统运行定时任务(具体时间由技术确定),统计上周周一00:00:00~周日23:59:59的数据, 定时任务完成后,生成上周的报表数据 .为数据为0 ,则展示0,
    - 月报表:每月1号凌晨后,系统运行定时任务(具体时间由技术确定),统计上月1号00:00:00~月最后一天23:59:59的数据, 定时任务完成后,生成上月的报表数据 .为数据为0 ,则展示0. 
    - 年报表:每年1月1日号凌晨后,系统运行定时任务(具体时间由技术确定),统计上年1月1号00:00:00~12月31号23:59:59的数据, 定时任务完成后,生成上年的报表数据 .为数据为0 ,则展示0. 
## 3.4 短信报表
### 3.4.1 商户短信使用报表
* 功能说明: 以商户为维度统计每个商户前端会员在注册或登录时,请求的短信接口次数. (注:Sass系统可能无法获取短信平台的下发成功次数和失败次数,兼顾统一性,因此统计接口请求次数)
* 主要查询条件说明: 
    - 报表周期: 下拉选择, 选项:日账单(默认选中) ,周账单,月账单,年账单 .
    - 周报表: 每周为7天,以每周一为开始日期.
    - 开始时间-结束时间: 当账单周期为日账单时, 可选择账单的开始日期和结束日期.
* 列表排序: 按照日期时间倒序排序,以商户为分类项展示. 同一日期内,按照生成是时间倒序排序.
* 主要字段说明: 
    - 报表日期: 根据查询字段确定.
        + 如果报表周期为日账单, 则以每日为单位, 展示前一天的数据. 如:当前日期为2025-01-10, 则统计,2025-01-09, 2025-01-08, 依次类推.
        + 如果报表周期为周账单,则以每周周一的对对应日期为准,统计上一周的数据,及当前周的数据. 如当前日期为2025-01-10 周五, 统计日期按周为: 2025-01-06, 2024-12-30,依次类推.
        + 如果报表周期为月账单,则以每月1号为准,统计之前每个月分和当前月的数据. 如当前日期为2025-01-10,统计日期按月为, 2025-01, 2024-12.2024-11. 依次类推.
        + 如果报表周期为年账单,则以每年1月1号为准,统计之前每个年份和当前年份的数据. 如当前日期为2025-01-10,统计日期按年为: 2025-01-01, 2024-01-01, 依次类推. 
    - 请求次数:  如果商户开启短信验证,每点击一次,短信验证码进行下发倒计时,则记录一次,
* 账单生成规则:
    - 日报表:次日凌晨后,系统运行定时任务(具体时间由技术确定),统计前一天00:00:00~23:59:59的数据, 定时任务完成后, 生成前一日的短信账单, 同时计算更新 本周 本月 本年 报表.  如果为数据0 ,则展示 0 .  
    - 周报表:每周一凌晨后,系统运行定时任务(具体时间由技术确定),统计上周周一00:00:00~周日23:59:59的数据, 定时任务完成后,生成上周的短信账单 .为数据为0 ,则展示0,
    - 月报表:每月1号凌晨后,系统运行定时任务(具体时间由技术确定),统计上月1号00:00:00~月最后一天23:59:59的数据, 定时任务完成后,生成上月的短信账单 .为数据为0 ,则展示0. 
    - 年报表:每年1月1日号凌晨后,系统运行定时任务(具体时间由技术确定),统计上年1月1号00:00:00~12月31号23:59:59的数据, 定时任务完成后,生成上年的短信账单 .为数据为0 ,则展示0. 
### 3.4.2 短信服务商报表
* 功能说明: 短信服务商为维度统计会员在请求短信验证码是,使用的第三方短信商数据信息
* 主要查询条件说明: 
    - 报表周期: 下拉选择, 选项:日账单(默认选中) ,周账单,月账单,年账单 .
    - 周报表: 每周为7天,以每周一为开始日期.
    - 开始时间-结束时间: 当账单周期为日账单时, 可选择账单的开始日期和结束日期.
* 列表排序: 按照日期时间倒序排序,以三方短信商分类项展示. 同一日期内,按照生成是时间倒序排序.
* 主要字段说明: 
    - 报表日期: 根据查询字段确定.
        + 如果报表周期为日账单, 则以每日为单位, 展示前一天的数据. 如:当前日期为2025-01-10, 则统计,2025-01-09, 2025-01-08, 依次类推.
        + 如果报表周期为周账单,则以每周周一的对对应日期为准,统计上一周的数据,及当前周的数据. 如当前日期为2025-01-10 周五, 统计日期按周为: 2025-01-06, 2024-12-30,依次类推.
        + 如果报表周期为月账单,则以每月1号为准,统计之前每个月分和当前月的数据. 如当前日期为2025-01-10,统计日期按月为, 2025-01, 2024-12.2024-11. 依次类推.
        + 如果报表周期为年账单,则以每年1月1号为准,统计之前每个年份和当前年份的数据. 如当前日期为2025-01-10,统计日期按年为: 2025-01-01, 2024-01-01, 依次类推. 
    - 请求次数:  如果商户开启短信验证,每点击一次,短信验证码进行下发倒计时,则记录一次,
* 账单生成规则:
    - 日报表:次日凌晨后,系统运行定时任务(具体时间由技术确定),统计前一天00:00:00~23:59:59的数据, 定时任务完成后, 生成前一日的短信报表, 同时计算更新 本周 本月 本年 报表.  如果为数据0 ,则展示 0 .  
    - 周报表:每周一凌晨后,系统运行定时任务(具体时间由技术确定),统计上周周一00:00:00~周日23:59:59的数据, 定时任务完成后,生成上周的短信报表 .为数据为0 ,则展示0,
    - 月报表:每月1号凌晨后,系统运行定时任务(具体时间由技术确定),统计上月1号00:00:00~月最后一天23:59:59的数据, 定时任务完成后,生成上月的短信报表 .为数据为0 ,则展示0. 
    - 年报表:每年1月1日号凌晨后,系统运行定时任务(具体时间由技术确定),统计上年1月1号00:00:00~12月31号23:59:59的数据, 定时任务完成后,生成上年的短信报表 .为数据为0 ,则展示0. 
## 3.5 支付报表
### 3.5.1 商户支付使用报表
* 功能说明: 主要以时间周期为单位,统计不同商户下的会员使用不同的第三方支付商,进行充值或者提现的数据信息
* 主要字段说明: 
    - 报表日期: 根据查询字段确定.
        + 如果报表周期为日账单, 则以每日为单位, 展示前一天的数据. 如:当前日期为2025-01-10, 则统计,2025-01-09, 2025-01-08, 依次类推.
        + 如果报表周期为周账单,则以每周周一的对对应日期为准,统计上一周的数据,及当前周的短信请求数据. 如当前日期为2025-01-10 周五, 统计日期按周为: 2025-01-06, 2024-12-30,依次类推.
        + 如果报表周期为月账单,则以每月1号为准,统计之前每个月分和当前月的短信请求数据. 如当前日期为2025-01-10,统计日期按月为, 2025-01, 2024-12.2024-11. 依次类推.
        + 如果报表周期为年账单,则以每年1月1号为准,统计之前每个年份和当前年份的短信请求数据. 如当前日期为2025-01-10,统计日期按年为: 2025-01-01, 2024-01-01, 依次类推. 
    - 支付商: 会员充值或者提现订单选择的支付通道对应的支付商名称.
    - 币种: 会员提现或者充值的币种单位. 
    - 代收单数: 会员使用第三方支付充值该币种的的订单数.
    - 扣减手续前的代收金额: 第三方支付未扣减手续前的会员充值该币种的金额合计
    - 扣减手续前的代收金额: 第三方支付未扣减手续后的会员充值该币种的金额合计
    - 代收手续费: 扣减前-扣减后的数据
    - 代付单数: 会员使用第三方支付提现该币种的的订单数.
    - 扣减手续前的代付金额: 第三方支付未扣减手续前的会员提现该币种的金额合计
    - 扣减手续前的代付金额: 第三方支付未扣减手续后的会员提现成功该币种的金额合计
    - 代付手续费: 扣减前-扣减后的数据
* 列表排序: 以商户为单位,以币种为单元,按照报表生成时间,倒序排序. 
* 报表生成规则:
     - 日报表:次日凌晨后,系统运行定时任务(具体时间由技术确定),统计前一天00:00:00~23:59:59的数据, 定时任务完成后, 生成前一日的报表, 同时计算更新 本周 本月 本年 报表.  如果为数据0 ,则展示 0 .  
     - 周报表:每周一凌晨后,系统运行定时任务(具体时间由技术确定),统计上周周一00:00:00~周日23:59:59的数据, 定时任务完成后,生成上周的报表 .为数据为0 ,则展示0,
     - 月报表:每月1号凌晨后,系统运行定时任务(具体时间由技术确定),统计上月1号00:00:00~月最后一天23:59:59的数据, 定时任务完成后,生成上月的报表 .为数据为0 ,则展示0. 
     - 年报表:每年1月1日号凌晨后,系统运行定时任务(具体时间由技术确定),统计上年1月1号00:00:00~12月31号23:59:59的数据, 定时任务完成后,生成上年的报表 .为数据为0 ,则展示0. 
### 3.5.2 支付商报表
* 功能说明: 主要以时间周期为单位,统计不同商户下的会员使用不同的第三方支付商,进行充值或者提现的数据信息
* 主要字段说明: 
    - 报表日期: 根据查询字段确定.
        + 如果报表周期为日账单, 则以每日为单位, 展示前一天的数据. 如:当前日期为2025-01-10, 则统计,2025-01-09, 2025-01-08, 依次类推.
        + 如果报表周期为周账单,则以每周周一的对对应日期为准,统计上一周的数据,及当前周的短信请求数据. 如当前日期为2025-01-10 周五, 统计日期按周为: 2025-01-06, 2024-12-30,依次类推.
        + 如果报表周期为月账单,则以每月1号为准,统计之前每个月分和当前月的短信请求数据. 如当前日期为2025-01-10,统计日期按月为, 2025-01, 2024-12.2024-11. 依次类推.
        + 如果报表周期为年账单,则以每年1月1号为准,统计之前每个年份和当前年份的短信请求数据. 如当前日期为2025-01-10,统计日期按年为: 2025-01-01, 2024-01-01, 依次类推. 
    - 支付商: 会员充值或者提现订单选择的支付通道对应的支付商名称.
    - 币种: 会员提现或者充值的币种单位. 
    - 代收单数: 会员使用第三方支付充值该币种的的订单数.
    - 扣减手续前的代收金额: 第三方支付未扣减手续前的会员充值该币种的金额合计
    - 扣减手续前的代收金额: 第三方支付未扣减手续后的会员充值该币种的金额合计
    - 代收手续费: 扣减前-扣减后的数据
    - 代付单数: 会员使用第三方支付提现该币种的的订单数.
    - 扣减手续前的代付金额: 第三方支付未扣减手续前的会员提现该币种的金额合计
    - 扣减手续前的代付金额: 第三方支付未扣减手续后的会员提现成功该币种的金额合计
    - 代付手续费: 扣减前-扣减后的数据
* 列表排序: 以商户为单位,以币种为单元,按照报表生成时间,倒序排序. 
* 报表生成规则:
     - 日报表:次日凌晨后,系统运行定时任务(具体时间由技术确定),统计前一天00:00:00~23:59:59的数据, 定时任务完成后, 生成前一日的报表, 同时计算更新 本周 本月 本年 报表.  如果为数据0 ,则展示 0 .  
     - 周报表:每周一凌晨后,系统运行定时任务(具体时间由技术确定),统计上周周一00:00:00~周日23:59:59的数据, 定时任务完成后,生成上周的报表 .为数据为0 ,则展示0,
     - 月报表:每月1号凌晨后,系统运行定时任务(具体时间由技术确定),统计上月1号00:00:00~月最后一天23:59:59的数据, 定时任务完成后,生成上月的报表 .为数据为0 ,则展示0. 
     - 年报表:每年1月1日号凌晨后,系统运行定时任务(具体时间由技术确定),统计上年1月1号00:00:00~12月31号23:59:59的数据, 定时任务完成后,生成上年的报表 .为数据为0 ,则展示0. 
